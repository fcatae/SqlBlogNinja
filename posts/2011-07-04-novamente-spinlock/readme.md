<a link='https://blogs.msdn.microsoft.com/fcatae/2011/07/04/novamente-spinlock/'>Novamente Spinlock</a>
<p>O que seria um spinlock? Essa é uma pergunta recorrente e que mal consigo explicar… parte porque é uma estrutura pouco detalhada nos artigos da Microsoft.</p>  <p>Para aqueles que nunca viram o “spinlock” documentado, segue algumas pistas de que ele realmente existe:</p>  <blockquote>   <p>Artigo de Suporte KB835864: <a title="http://support.microsoft.com/kb/835864" href="http://support.microsoft.com/kb/835864">http://support.microsoft.com/kb/835864</a></p>    <p><em>On multiprocessor computers, access to these counter values must be serialized. SQL Server serializes the counter values by using a spinlock. With a spinlock, the thread that wants to acquire the spinlock tries to acquire the lock. If the lock is not available, the thread spins in a loop, periodically rechecking the availability of the resource. If the operation that occurs inside the spinlock protection has a very short duration, such as incrementing or decrementing a counter, using a spinlock can be much faster than using a kernel synchronization object and then switching from user mode to kernel mode and back. However, if the spinlock becomes highly contended, a thread may spend more time spinning and trying to acquire the lock than it does performing useful work. Because of this, spinlocks are not a good choice for protecting a heavily-contended data structure.</em> </p> </blockquote>  <p>Blog do CSS SQL:</p>  <blockquote>   <p><a title="http://blogs.msdn.com/b/psssql/archive/2010/06/08/how-it-works-spinlock-of-type-lpe-batch.aspx" href="http://blogs.msdn.com/b/psssql/archive/2010/06/08/how-it-works-spinlock-of-type-lpe-batch.aspx">http://blogs.msdn.com/b/psssql/archive/2010/06/08/how-it-works-spinlock-of-type-lpe-batch.aspx</a></p> </blockquote>  <blockquote>   <p><em>A spinlock is a lightweight, user mode synchronization object used to protect a specific structure. The goal of the spinlock is to be fast and efficient.&#160; So the ultimate goal is to see is 0 collisions and 0 spins.&#160; SQL Server 2008 contains 150+ spinlock objects to protect the various internal structures during multi-threaded access.</em></p> </blockquote>  <p>Recém lançado, segue um whitepaper do SQL CAT: </p>  <blockquote>   <p><a href="http://download.microsoft.com/download/D/A/A/DAAD63AF-B06F-4F29-AF1D-68A78102ABF4/SQLServerSpinlockContention.pdf" target="_blank">SQL Spinlock Contention</a></p>    <p><em>This paper provides in-depth information about the methodology the Microsoft SQL Server Customer Advisory Team (SQLCAT) team uses to identify and resolve issues related to spinlock contention observed when running SQL Server 2008 and SQL Server 2008 R2 applications on high-concurrency systems.</em></p> </blockquote>  <p>Bons estudos!</p>
