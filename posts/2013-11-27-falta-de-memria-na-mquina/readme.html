<a link='https://blogs.msdn.microsoft.com/fcatae/2013/11/27/falta-de-memria-na-mquina/'>Falta de Memória na Máquina</a>
<p>No post anterior falei sobre a <a href="http://blogs.msdn.com/b/fcatae/archive/2013/10/02/available-memory-mem-243-ria-livre-no-sistema-operacional.aspx">memória livre no sistema operacional</a>, no qual apresentava um gráfico com grande variação na quantidade de memória livre. </p>  <p>Afinal, como descobrir se falta memória RAM no meu servidor? Existe uma forma bastante simples usando a ferramenta do Performance Monitor. Basta acompanhar o contador <strong>“Memory: Available MBytes”</strong>. </p>  <p align="center"><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/28/29/metablogapi/3482.image_3CA51E84.png"><img title="image" border="0" alt="image" src="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/28/29/metablogapi/5516.image_thumb_2ED5693A.png" width="364" height="272" /></a></p>  <p>Esse contador apresenta a evolução da memória ao longo do dia e permite descobrir os horários <strong>*exatos* </strong>no qual o servidor sofreu de pressão por memória. No exemplo abaixo, observamos que às 15h e 16h30 foram momentos bastante críticos. </p>  <p align="center"><a href="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/28/29/metablogapi/0652.image_04F4F505.png"><img title="image" border="0" alt="image" src="https://msdnshared.blob.core.windows.net/media/MSDNBlogsFS/prod.evol.blogs.msdn.com/CommunityServer.Blogs.Components.WeblogFiles/00/00/01/28/29/metablogapi/8117.image_thumb_34B29D84.png" width="579" height="105" /></a></p>  <p><strong>Sintomas:</strong></p>  <ul>   <li>Uma ou mais aplicações aumentam o consumo de memória</li>    <li>Sistema Operacional inicia a paginação de memória de todos os processos</li> </ul>  <p>Nesse caso específico, haviam duas instâncias SQL Server rodando na mesma máquina. Nesse caso, recomendamos utilizar a configuração do “Max Server Memory” para limitar o tamanho das instâncias e evitar a paginação.</p>  <p><strong>Problema:</strong></p>  <p>A paginação dos processos para disco (Page File) causa lentidão temporária no servidor e pode prejudicar os processos. A lentidão pode durar desde segundos a alguns minutos. Seria isso um problema? Tudo depende da carga:</p>  <ul>   <li>Uma rotina batch que dura horas não será visivelmente afetada</li>    <li>Acessos de milissegundos podem demorar segundos (uma eternidade!) para finalizar</li> </ul>  <p>Atualmente com máquinas de 64GB ou mais de memória, acho prudente deixar pelo menos 2GB livre. Essa memória livre seria uma sobrevida em caso de picos de consumo.</p>  <p>Você discorda? Deixe seu comentário!</p>
