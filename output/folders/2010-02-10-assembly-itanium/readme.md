<a link='https://blogs.msdn.microsoft.com/fcatae/2010/02/10/assembly-itanium/'>Assembly Itanium</a>
<P>No <A href="http://blogs.msdn.com/fcatae/archive/2010/02/17/assembly-x64.aspx">post anterior</A>, mostrei os registradores da plataforma x64 e um exemplo de uma listagem em assembly. Como curiosidade, resolvi compilar um programa para a plataforma Itanium.</P>
<P>Rotina <STRONG>comando()</STRONG>:</P>
<DIV id="codeSnippetWrapper" class="csharpcode-wrapper">
<BLOCKQUOTE><PRE id="codeSnippet" class="csharpcode">__int64 comando(__int64 a, __int64 b, __int64 c, <BR>        __int64 d, __int64 e)<BR>{<BR><SPAN class="kwrd">return</SPAN> a+b+c+d+e;<BR>}</PRE></BLOCKQUOTE><BR></DIV>
<P><STRONG>Disassembly:</STRONG> A plataforma Itanium são processadores RISC de 64-bits e utilizam instruções Explicitly Parallel Instruction Computing (EPIC). Ao ler a listagem do código em assembly, verificamos que não há semelhanças com a plataforma x64. Apesar de serem processadores 64-bits, a plataforma Itanium e x64 são incompatíveis.</P>
<DIV id="codeSnippetWrapper" class="csharpcode-wrapper">
<BLOCKQUOTE><PRE id="codeSnippet" class="csharpcode">alloc r38 = ar.pfs,8,0,2,0 <BR>movl r27 = 0xCCCCCCCCCCCCCCCC <BR><BR>adds sp = -0x30,sp <BR>adds r39 = 0,gp <BR>addl r28 = 4,zero ;; <BR><BR>ld8.nta r2 = [sp] <BR>mov  r37 = b0 <BR>adds r3 = 8,sp ;; <BR><BR>adds r2 = 0,sp <BR>nop.m 0 <BR>nop.b 0 ;; <BR><BR>st8  [r2] = r27,0x10 <BR>st8  [r3] = r27,0x10 <BR>cmp.eq.unc p15,p14 = 1,r28 <BR><BR>adds r28 = -1,r28 <BR>nop.m 0 <BR>br.cond.dptk.many Console64!comando+0 <BR><BR>adds r31 = 0x10,sp <BR>adds r30 = 0x18,sp <BR>adds r29 = 0x20,sp <BR><BR>adds r28 = 0x28,sp <BR>adds r27 = 0x30,sp <BR>nop.b 0 ;; <BR><BR>st8  [r31] = r32 <BR>st8  [r30] = r33 <BR>nop.b 0 ;; <BR><BR>st8  [r29] = r34 <BR>st8  [r28] = r35 <BR>nop.b 0 ;; <BR><BR>st8  [r27] = r36 ;; <BR>adds r26 = 0x10,sp <BR>adds r22 = 0x18,sp <BR><BR>adds r19 = 0x20,sp <BR>adds r16 = 0x28,sp <BR>adds r10 = 0x30,sp ;; <BR><BR>ld8  r25 = [r26] <BR>ld8  r21 = [r22] <BR>adds gp = 0,r39 ;; <BR><BR>ld8  r18 = [r19] <BR>ld8  r15 = [r16] <BR>add  r20 = r25,r21 ;; <BR><BR>ld8  r9 = [r10] <BR>add  r17 = r20,r18 ;; <BR>add  r11 = r17,r15 ;; <BR><BR>add  r36 = r11,r9 ;; <BR>adds v0 = 0,r36 <BR>nop.i 0 ;; <BR><BR>adds sp = 0x30,sp <BR>mov  b0 = r37,Console64!comando+0x100 <BR>mov.i ar.pfs = r38 <BR><BR>nop.m 0 <BR>nop.m 0 <BR>br.ret.sptk.many b0 ;;<BR></PRE></BLOCKQUOTE><BR></DIV>
